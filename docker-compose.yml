version: "3.8"

services:
  app:
   build:
     context: .
     dockerfile: Dockerfile
   env_file:
    - .env
   ports:
    - "8000:8000"
   volumes: 
    - .:/var/www/html
   depends_on:
    - db

  db: 
    image: mysql:8.0
    environment: 
      MYSQL_ROOT_PASSWORD: ${DB_PASSWORD}
      MYSQL_DATABASE: ${DB_DATABASE}
      MYSQL_USER: ${DB_USERNAME}
      MYSQL_PASSWORD: ${DB_PASSWORD}

    ports: 
      - "3306:3306"

